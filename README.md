# user-script

## Description

This repo is used to stored some of mine user-script. All scripts are bundled by webpack with a custom plugin.

## Getting Started

### Dev script

```
npm install & npm run dev
```

Meta header is automatically generated by a custom plugin. In Dev mode, a `[script].dev.user.js` script will be generated with userscript meta header and a `fetch` call to load script in order to bypass cache in `@require`. Script installation page will be open automatically when meta header changed.

All script files in `src` directory are watched by `webpack-dev-server`. With the help of `webpack-dev-server`, `livereload` is automatically implemented without installing extra extensions. `nodemon` are applied in monitoring file change in `config` directory and restart webpack automatically.

### Build script

```
npm install & npm run build
```

All files listed in `config.entry` should be generated into `dist` directory.

### Create a new script

Create a new directory in `src`, write your script in `index.js` and export the meta header in `meta.js`

Modify the exclude dependencies in `config.externals`, and add directory name into `config.entry` in `config.js`

Run and install the script, everything should work as your thinks.
